# ECR Repository Module Test Suite

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€ECR Repository ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¯ã€Terraform ã‚³ãƒ¼ãƒ‰ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å“è³ªã¨æ­£ç¢ºæ€§ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [å‰ææ¡ä»¶](#å‰ææ¡ä»¶)
- [ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ](#ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ)
- [ãƒ†ã‚¹ãƒˆã®ç¨®é¡](#ãƒ†ã‚¹ãƒˆã®ç¨®é¡)
- [å€‹åˆ¥ãƒ†ã‚¹ãƒˆã®èª¬æ˜](#å€‹åˆ¥ãƒ†ã‚¹ãƒˆã®èª¬æ˜)
- [CI/CDçµ±åˆ](#cicdçµ±åˆ)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [è²¢çŒ®](#è²¢çŒ®)

## ğŸ¯ æ¦‚è¦

ã“ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¯ä»¥ä¸‹ã®ç›®çš„ã§ä½œæˆã•ã‚Œã¦ã„ã¾ã™ï¼š

- **ã‚³ãƒ¼ãƒ‰å“è³ªã®ä¿è¨¼**: Terraform ã‚³ãƒ¼ãƒ‰ã®æ§‹æ–‡ã¨å“è³ªã‚’æ¤œè¨¼
- **è¨­å®šã®æ¤œè¨¼**: å¤‰æ•°ã®å¦¥å½“æ€§ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®ç¢ºèª
- **ECRæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ**: ECRå›ºæœ‰ã®æ©Ÿèƒ½ï¼ˆãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒãƒªã‚·ãƒ¼ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç­‰ï¼‰ã®å‹•ä½œç¢ºèª
- **AWSçµ±åˆã®ãƒ†ã‚¹ãƒˆ**: AWS ECRã‚µãƒ¼ãƒ“ã‚¹ã¨ã®æ¥ç¶šæ€§ã‚’æ¤œè¨¼
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ•´åˆæ€§**: å¿…è¦ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å­˜åœ¨ã¨å†…å®¹ã‚’ç¢ºèª
- **å›å¸°ãƒ†ã‚¹ãƒˆã®é˜²æ­¢**: ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã«ã‚ˆã‚‹æ„å›³ã—ãªã„ç ´ç¶»ã‚’é˜²æ­¢

## ğŸ”§ å‰ææ¡ä»¶

### å¿…é ˆãƒ„ãƒ¼ãƒ«

ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

```bash
# Terraform
terraform --version  # >= 1.0

# AWS CLI
aws --version  # >= 2.0

# jq (JSONå‡¦ç†)
jq --version

# Docker (ä¸€éƒ¨ã®ãƒ†ã‚¹ãƒˆã§å¿…è¦)
docker --version
```

### AWSèªè¨¼æƒ…å ±

ä¸€éƒ¨ã®ãƒ†ã‚¹ãƒˆã¯AWS APIã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€æœ‰åŠ¹ãªAWSèªè¨¼æƒ…å ±ãŒå¿…è¦ã§ã™ï¼š

```bash
# AWSèªè¨¼æƒ…å ±ã®è¨­å®š
aws configure

# ã¾ãŸã¯ç’°å¢ƒå¤‰æ•°
export AWS_ACCESS_KEY_ID=your_key
export AWS_SECRET_ACCESS_KEY=your_secret
export AWS_DEFAULT_REGION=ap-northeast-1
```

**æ³¨æ„**: AWSèªè¨¼æƒ…å ±ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆã¯è‡ªå‹•çš„ã«ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚

## ğŸš€ ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

### å…¨ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

```bash
# ECRãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ecr/repository

# å…¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
./test_runner.sh
```

### å€‹åˆ¥ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

```bash
# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
./tests/test_terraform_plan.sh
./tests/test_variables_validation.sh
./tests/test_lifecycle_policy.sh
```

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã®å‡ºåŠ›ä¾‹

```
========================================
ECR Repository Module Test Suite
========================================

----------------------------------------
Prerequisites Check
----------------------------------------
âœ… All required tools are available
âœ… AWS credentials are configured

----------------------------------------
Terraform Tests
----------------------------------------
ğŸ” Running: terraform fmt check
âœ… PASSED: terraform fmt check
ğŸ” Running: terraform validate
âœ… PASSED: terraform validate
ğŸ” Running: terraform plan (dry run)
âœ… PASSED: terraform plan (dry run)

----------------------------------------
ECR Specific Tests
----------------------------------------
ğŸ” Running: ECR repository creation test
âœ… PASSED: ECR repository creation test
ğŸ” Running: lifecycle policy validation
âœ… PASSED: lifecycle policy validation

----------------------------------------
Test Summary
----------------------------------------
Tests Passed:  18
Tests Failed:  0
Tests Skipped: 2
Total Tests:   20

ğŸ‰ All tests passed!
```

## ğŸ“Š ãƒ†ã‚¹ãƒˆã®ç¨®é¡

### 1. Terraform Tests (Terraformãƒ†ã‚¹ãƒˆ)
- **ç›®çš„**: Terraform ã‚³ãƒ¼ãƒ‰ã®æ§‹æ–‡ã¨è¨­å®šã‚’æ¤œè¨¼
- **å¯¾è±¡**: `main.tf`ã€`variables.tf`ã€`outputs.tf`
- **ãƒã‚§ãƒƒã‚¯å†…å®¹**:
  - `terraform fmt` ã«ã‚ˆã‚‹å½¢å¼ãƒã‚§ãƒƒã‚¯
  - `terraform validate` ã«ã‚ˆã‚‹æ§‹æ–‡æ¤œè¨¼
  - `terraform plan` ã«ã‚ˆã‚‹å®Ÿè¡Œå¯èƒ½æ€§ç¢ºèªï¼ˆDryRunï¼‰

### 2. Configuration Tests (è¨­å®šãƒ†ã‚¹ãƒˆ)
- **ç›®çš„**: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´åˆæ€§ã‚’æ¤œè¨¼
- **å¯¾è±¡**: `terraform.tfvars.example`ã€å¤‰æ•°å®šç¾©
- **ãƒã‚§ãƒƒã‚¯å†…å®¹**:
  - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æ–‡ãƒã‚§ãƒƒã‚¯
  - å¿…é ˆå¤‰æ•°ã®å­˜åœ¨ç¢ºèª
  - å¤‰æ•°ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼

### 3. ECR Specific Tests (ECRå›ºæœ‰ãƒ†ã‚¹ãƒˆ)
- **ç›®çš„**: ECRå›ºæœ‰ã®æ©Ÿèƒ½ã‚’æ¤œè¨¼
- **å¯¾è±¡**: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒãƒªã‚·ãƒ¼ã€ãƒªãƒã‚¸ãƒˆãƒªãƒãƒªã‚·ãƒ¼ã€è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªè¨­å®š
- **ãƒã‚§ãƒƒã‚¯å†…å®¹**:
  - ECRãƒªãƒã‚¸ãƒˆãƒªä½œæˆã®æ¤œè¨¼
  - ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒãƒªã‚·ãƒ¼ã®å‹•ä½œç¢ºèª
  - ãƒªãƒã‚¸ãƒˆãƒªãƒãƒªã‚·ãƒ¼ã®è¨­å®šç¢ºèª
  - è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®šæ¤œè¨¼
  - Dockerçµ±åˆã®å‹•ä½œç¢ºèª

### 4. Integration Tests (çµ±åˆãƒ†ã‚¹ãƒˆ)
- **ç›®çš„**: AWS ECRã‚µãƒ¼ãƒ“ã‚¹ã¨ã®çµ±åˆã‚’æ¤œè¨¼
- **å¯¾è±¡**: AWS ECRã‚µãƒ¼ãƒ“ã‚¹ã€ãƒªãƒã‚¸ãƒˆãƒªå‘½åè¦å‰‡ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
- **ãƒã‚§ãƒƒã‚¯å†…å®¹**:
  - AWS ECRã‚µãƒ¼ãƒ“ã‚¹ã®å¯ç”¨æ€§ç¢ºèª
  - ãƒªãƒã‚¸ãƒˆãƒªå‘½åè¦å‰‡ã®æ¤œè¨¼
  - ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã®ç¢ºèª

### 5. Security Tests (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ)
- **ç›®çš„**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚’æ¤œè¨¼
- **å¯¾è±¡**: æš—å·åŒ–è¨­å®šã€ã‚¹ã‚­ãƒ£ãƒ³è¨­å®šã€IAMæ¨©é™
- **ãƒã‚§ãƒƒã‚¯å†…å®¹**:
  - æš—å·åŒ–è¨­å®šã®æ¤œè¨¼
  - ã‚¹ã‚­ãƒ£ãƒ³è¨­å®šã®ç¢ºèª
  - IAMæ¨©é™ã®å¦¥å½“æ€§ç¢ºèª

### 6. Documentation Tests (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ)
- **ç›®çš„**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å­˜åœ¨ã¨å“è³ªã‚’æ¤œè¨¼
- **å¯¾è±¡**: README ãƒ•ã‚¡ã‚¤ãƒ«ã€è¨­å®šä¾‹ã€Terraformä¾‹
- **ãƒã‚§ãƒƒã‚¯å†…å®¹**:
  - å¿…é ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å­˜åœ¨ç¢ºèª
  - Markdown æ§‹æ–‡ãƒã‚§ãƒƒã‚¯
  - Terraformä¾‹ã®æ§‹æ–‡ç¢ºèª
  - terraform.tfvars.example ã®å®Œå…¨æ€§ç¢ºèª

## ğŸ” å€‹åˆ¥ãƒ†ã‚¹ãƒˆã®èª¬æ˜

### test_runner.sh
- **å½¹å‰²**: ãƒ¡ã‚¤ãƒ³ã®ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼
- **æ©Ÿèƒ½**:
  - å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯
  - å…¨ãƒ†ã‚¹ãƒˆã®é †æ¬¡å®Ÿè¡Œ
  - ãƒ†ã‚¹ãƒˆçµæœã®é›†è¨ˆã¨ãƒ¬ãƒãƒ¼ãƒˆ

### test_terraform_plan.sh
- **å½¹å‰²**: Terraform ãƒ—ãƒ©ãƒ³ã®ç”Ÿæˆãƒ†ã‚¹ãƒˆ
- **æ©Ÿèƒ½**:
  - åŸºæœ¬çš„ãªãƒ—ãƒ©ãƒ³ç”Ÿæˆ
  - è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªè¨­å®šã®ãƒ—ãƒ©ãƒ³ç”Ÿæˆ
  - ä¸æ­£ãªè¨­å®šã§ã®æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ

### test_variables_validation.sh
- **å½¹å‰²**: å¤‰æ•°ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- **æ©Ÿèƒ½**:
  - ç’°å¢ƒå¤‰æ•°ã®æ¤œè¨¼ï¼ˆdev, stg, prd, rlsï¼‰
  - æš—å·åŒ–è¨­å®šã®æ¤œè¨¼ï¼ˆAES256, KMSï¼‰
  - ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚¿ã‚°å¯å¤‰æ€§ã®æ¤œè¨¼ï¼ˆMUTABLE, IMMUTABLEï¼‰
  - ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã®æ¤œè¨¼

### test_lifecycle_policy.sh
- **å½¹å‰²**: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒãƒªã‚·ãƒ¼æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- **æ©Ÿèƒ½**:
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒãƒªã‚·ãƒ¼ã®æ¤œè¨¼
  - ã‚«ã‚¹ã‚¿ãƒ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒãƒªã‚·ãƒ¼ã®æ¤œè¨¼
  - ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒãƒªã‚·ãƒ¼ç„¡åŠ¹åŒ–ã®ãƒ†ã‚¹ãƒˆ
  - ä¸æ­£ãªãƒãƒªã‚·ãƒ¼ã®å‡¦ç†ç¢ºèª

### test_outputs_structure.sh
- **å½¹å‰²**: å‡ºåŠ›å€¤ã®æ§‹é€ ãƒ†ã‚¹ãƒˆ
- **æ©Ÿèƒ½**:
  - å¿…é ˆå‡ºåŠ›å€¤ã®å­˜åœ¨ç¢ºèª
  - å‡ºåŠ›å€¤ã®èª¬æ˜æ–‡ã®ç¢ºèª
  - å‡ºåŠ›å€¤ã®å¦¥å½“æ€§æ¤œè¨¼
  - ãƒ˜ãƒ«ãƒ‘ãƒ¼å‡ºåŠ›å€¤ã®ç¢ºèª
  - å¾Œæ–¹äº’æ›æ€§å‡ºåŠ›å€¤ã®ç¢ºèª

### test_documentation_exists.sh
- **å½¹å‰²**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå­˜åœ¨ãƒ†ã‚¹ãƒˆ
- **æ©Ÿèƒ½**:
  - README.md ã®å­˜åœ¨ã¨å†…å®¹ç¢ºèª
  - å¿…é ˆTerraformãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèª
  - READMEå†…ã®Terraformä¾‹ã®æ§‹æ–‡ç¢ºèª
  - terraform.tfvars.example ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ç¢ºèª
  - versions.tf ã®å†…å®¹ç¢ºèª

### test_tfvars_example.sh
- **å½¹å‰²**: terraform.tfvars.example ã®ãƒ†ã‚¹ãƒˆ
- **æ©Ÿèƒ½**:
  - ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª
  - æ§‹æ–‡ãƒã‚§ãƒƒã‚¯
  - å¿…é ˆå¤‰æ•°ã®å­˜åœ¨ç¢ºèª
  - ä¾‹ã®å€¤ã®å¦¥å½“æ€§ç¢ºèª

## ğŸ”„ CI/CDçµ±åˆ

### GitHub Actions

```yaml
name: ECR Module Tests

on:
  push:
    paths:
      - 'ecr/repository/**'
  pull_request:
    paths:
      - 'ecr/repository/**'

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Setup Terraform
      uses: hashicorp/setup-terraform@v2
      with:
        terraform_version: 1.5.0

    - name: Install dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y jq

    - name: Run ECR Module Tests
      run: |
        cd ecr/repository
        chmod +x test_runner.sh tests/*.sh
        ./test_runner.sh
```

### AWS CodeBuild

```yaml
version: 0.2

phases:
  install:
    runtime-versions:
      python: 3.9
    commands:
      - wget -O terraform.zip https://releases.hashicorp.com/terraform/1.5.0/terraform_1.5.0_linux_amd64.zip
      - unzip terraform.zip
      - mv terraform /usr/local/bin/
      - apt-get update
      - apt-get install -y jq

  build:
    commands:
      - cd ecr/repository
      - chmod +x test_runner.sh tests/*.sh
      - ./test_runner.sh
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. AWSèªè¨¼ã‚¨ãƒ©ãƒ¼
```bash
# ç—‡çŠ¶: AWS credentials are not working
# è§£æ±ºæ–¹æ³•:
aws configure list
aws sts get-caller-identity
```

#### 2. TerraformåˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼
```bash
# ç—‡çŠ¶: Terraform init failed
# è§£æ±ºæ–¹æ³•:
cd ecr/repository/terraform
terraform init
```

#### 3. ä¾å­˜é–¢ä¿‚ã®å•é¡Œ
```bash
# ç—‡çŠ¶: Missing required tools
# è§£æ±ºæ–¹æ³•:
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install -y jq

# macOS
brew install jq
```

#### 4. æ¨©é™ã‚¨ãƒ©ãƒ¼
```bash
# ç—‡çŠ¶: Permission denied
# è§£æ±ºæ–¹æ³•:
chmod +x test_runner.sh tests/*.sh
```

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰

è©³ç´°ãªãƒ­ã‚°ã‚’ç¢ºèªã—ãŸã„å ´åˆï¼š

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
bash -x ./test_runner.sh

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿ãƒ‡ãƒãƒƒã‚°
bash -x ./tests/test_lifecycle_policy.sh
```

## ğŸ“ˆ ãƒ†ã‚¹ãƒˆçµæœã®è§£é‡ˆ

### çµ‚äº†ã‚³ãƒ¼ãƒ‰
- **0**: å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ
- **1**: ä¸€éƒ¨ãƒ†ã‚¹ãƒˆå¤±æ•—
- **2**: é‡å¤§ãªã‚¨ãƒ©ãƒ¼ï¼ˆä¾å­˜é–¢ä¿‚ä¸è¶³ãªã©ï¼‰

### å‡ºåŠ›ã®è‰²åˆ†ã‘
- **ğŸŸ¢ ç·‘**: æˆåŠŸ
- **ğŸŸ¡ é»„**: è­¦å‘Šãƒ»ã‚¹ã‚­ãƒƒãƒ—
- **ğŸ”´ èµ¤**: å¤±æ•—ãƒ»ã‚¨ãƒ©ãƒ¼
- **ğŸ”µ é’**: æƒ…å ±ãƒ»å®Ÿè¡Œä¸­

### ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«ç”Ÿæˆã•ã‚Œã‚‹ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼š
- `tests/temp/`: å„ãƒ†ã‚¹ãƒˆã®ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«
- Terraform ãƒ—ãƒ©ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.tfplanï¼‰
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.tfvarsï¼‰

## ğŸ¤ è²¢çŒ®

### æ–°ã—ã„ãƒ†ã‚¹ãƒˆã®è¿½åŠ 

1. **ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆ**:
   ```bash
   # æ–°ã—ã„ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
   cp tests/test_template.sh tests/test_new_feature.sh
   ```

2. **test_runner.sh ã¸ã®è¿½åŠ **:
   ```bash
   # é©åˆ‡ãªãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒªé–¢æ•°å†…ã«è¿½åŠ 
   run_test "æ–°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ" "./tests/test_new_feature.sh" false
   ```

3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°**:
   - ã“ã®READMEãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°
   - ãƒ†ã‚¹ãƒˆã®èª¬æ˜ã‚’è¿½åŠ 

### ãƒ†ã‚¹ãƒˆã®æ”¹å–„

- **ã‚«ãƒãƒ¬ãƒƒã‚¸ã®å‘ä¸Š**: æ–°ã—ã„ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®è¿½åŠ 
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ”¹å–„**: å®Ÿè¡Œæ™‚é–“ã®çŸ­ç¸®
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–**: ã‚ˆã‚Šè©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- **ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `set -euo pipefail` ã‚’ä½¿ç”¨
- **å‘½åè¦å‰‡**: `test_<feature_name>.sh`
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: é©åˆ‡ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—é–¢æ•°ã®å®Ÿè£…
- **å‡ºåŠ›å½¢å¼**: çµ±ä¸€ã•ã‚ŒãŸã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã¨çµµæ–‡å­—ã‚’ä½¿ç”¨

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¯ ECR Repository ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¸€éƒ¨ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡Œã‚„è³ªå•ãŒã‚ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

1. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)ã‚»ã‚¯ã‚·ãƒ§ãƒ³
2. å„ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
3. ECR Repository ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® README ãƒ•ã‚¡ã‚¤ãƒ«

---

**æœ€çµ‚æ›´æ–°**: 2024å¹´12æœˆ
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**å¯¾å¿œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**: ECR Repository Module v1.0.0
